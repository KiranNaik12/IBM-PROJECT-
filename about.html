<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>About Mercedes</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header id="header"></header>

  <main class="container mx-auto px-6 py-20">
    <h1 class="text-4xl text-center mb-6">About Mercedes Feedback & Booking</h1>
    <p class="text-center mb-12">
      Mercedes-Benz is a global leader in luxury vehicles. This platform allows customers to book test drives, leave feedback, and interact with AI-powered tools.
    </p>

    <!-- Chatbot -->
    <div class="max-w-4xl mx-auto mb-10">
      <h2 class="text-2xl mb-4">Mercedes Virtual Assistant</h2>
      <div id="chat-window"></div>
      <input id="user-input" type="text" placeholder="Ask me anything..." />
      <button onclick="sendMessage()">Send</button>
    </div>

    <!-- NLP + TTS -->
    <div class="max-w-4xl mx-auto">
      <h2 class="text-2xl mb-4">Text Analysis (NLP)</h2>
      <textarea id="nlp-text" rows="5" placeholder="Paste text for analysis..."></textarea>
      <div style="display: flex; gap: 1em; margin-top: 1em;">
        <button onclick="analyzeText()">Analyze</button>
        <button onclick="speakText()">Speak</button>
      </div>
      <div id="nlp-result" style="margin-top: 1em; font-weight: 500;"></div>
    </div>
  </main>

  <footer id="footer"></footer>
  <script src="nav.js"></script>

  <script>
    // Chatbot logic
    const chatWindow = document.getElementById("chat-window");

    function sendMessage() {
      const input = document.getElementById("user-input");
      const userText = input.value.trim();
      if (!userText) return;

      appendMessage("You", userText);
      input.value = "";

      let botReply = "I'm here to help with Mercedes feedback and booking.";
      if (userText.toLowerCase().includes("book")) {
        botReply = "Sure! You can book a test drive on our Home page.";
      } else if (userText.toLowerCase().includes("feedback")) {
        botReply = "We value your feedback. Please share your thoughts!";
      } else if (userText.toLowerCase().includes("hello") || userText.toLowerCase().includes("hi")) {
        botReply = "Hello! How can I assist you today?";
      }

      setTimeout(() => appendMessage("Bot", botReply), 500);
    }

    function appendMessage(sender, text) {
      const msg = document.createElement("div");
      msg.className = "mb-2";
      msg.innerHTML = `<strong>${sender}:</strong> ${text}`;
      chatWindow.appendChild(msg);
      chatWindow.scrollTop = chatWindow.scrollHeight;
    }

    // Text-to-Speech
    function speakText() {
      const text = document.getElementById("nlp-text").value.trim();
      if (!text) return;
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = "en-US";
      speechSynthesis.speak(utterance);
    }

    // Language Analysis
    function analyzeText() {
      const text = document.getElementById("nlp-text").value.trim();
      if (!text) return;

      const wordCount = text.split(/\s+/).filter(Boolean).length;
      const sentenceCount = text.split(/[.!?]+/).filter(Boolean).length;

      const positiveWords = ["great", "excellent", "amazing", "love", "fantastic", "wonderful"];
      const negativeWords = ["bad", "poor", "hate", "terrible", "worst", "awful"];
      let sentiment = "Neutral";

      const lowerText = text.toLowerCase();
      const positives = positiveWords.filter(word => lowerText.includes(word)).length;
      const negatives = negativeWords.filter(word => lowerText.includes(word)).length;

      if (positives > negatives) sentiment = "Positive";
      else if (negatives > positives) sentiment = "Negative";

      document.getElementById("nlp-result").innerText =
        `Words: ${wordCount} | Sentences: ${sentenceCount} | Sentiment: ${sentiment}`;
    }
  </script>
</body>
</html>